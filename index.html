<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RLOY CLOUD - PT BKI</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0a0a0a] text-white p-4 font-sans min-h-screen flex items-center justify-center">
    
    <div class="max-w-md w-full bg-zinc-900 p-8 rounded-[3rem] border border-zinc-800 shadow-2xl">
        <div class="text-center mb-8">
            <h1 class="text-5xl font-black text-blue-600 tracking-tighter italic">RLOY</h1>
            <p class="text-[10px] text-zinc-500 tracking-[0.4em] uppercase font-bold mt-1">Cloud Hosting System</p>
            <div class="h-[1px] w-12 bg-blue-600 mx-auto mt-4"></div>
        </div>

        <div class="space-y-6">
            <div>
                <label class="text-[10px] text-zinc-500 ml-4 mb-2 block font-bold tracking-widest uppercase">ID Website</label>
                <input type="text" id="siteName" placeholder="Contoh: promosi-bki" 
                    class="w-full bg-black border border-zinc-800 p-4 rounded-2xl outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition-all text-sm">
            </div>
            
            <div>
                <label class="text-[10px] text-zinc-500 ml-4 mb-2 block font-bold tracking-widest uppercase">Kodingan HTML</label>
                <textarea id="htmlCode" placeholder="Tempel kodingan HTML/CSS di sini..." rows="6"
                    class="w-full bg-black border border-zinc-800 p-4 rounded-2xl outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 font-mono text-xs transition-all"></textarea>
            </div>
            
            <button onclick="deployKeRloy()" id="btn"
                class="w-full bg-blue-700 hover:bg-blue-600 active:scale-95 py-5 rounded-2xl font-black tracking-[0.2em] transition-all shadow-lg shadow-blue-900/20 text-sm">
                PUBLISH KE RLOY
            </button>
        </div>

        <div id="hasil" class="hidden mt-8 p-6 bg-blue-950/20 border border-blue-900/50 rounded-[2rem] text-center">
            <p class="text-[10px] text-blue-400 font-black tracking-widest uppercase mb-3">Website Online!</p>
            <a id="linkHasil" href="#" target="_blank" class="text-white font-bold block underline break-all text-xs hover:text-blue-300 transition-colors"></a>
            <button onclick="salinLink()" class="mt-4 text-[9px] bg-zinc-800 px-4 py-2 rounded-full hover:bg-zinc-700 transition-all uppercase tracking-widest font-bold">Salin Link</button>
        </div>

        <p class="text-center text-[8px] text-zinc-600 mt-8 tracking-widest uppercase italic">Property of PT Bangga Karya Indonesia</p>
    </div>

    <script>
        // TOKEN GITHUB BAPAK (Sudah Terpasang)
        const TOKEN_RLOY = "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".trim();

        async function deployKeRloy() {
            const name = document.getElementById('siteName').value.trim() || "rloy-site";
            const content = document.getElementById('htmlCode').value;
            const btn = document.getElementById('btn');

            if(!content) return alert("Pak Boss, kodenya jangan kosong!");

            btn.innerText = "MENGHUBUNGKAN...";
            btn.disabled = true;

            try {
                // Proses pengiriman data ke GitHub Gist
                const response = await fetch("https://api.github.com/gists", {
                    method: "POST",
                    headers: { 
                        "Authorization": `token ${TOKEN_RLOY}`, 
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        description: "Rloy Cloud: " + name,
                        public: true,
                        files: { "index.html": { content: content } }
                    })
                });

                const data = await response.json();
                
                if (response.status === 201) {
                    // Link sakti untuk menampilkan hasil web secara live
                    const rawUrl = data.files["index.html"].raw_url;
                    const finalLink = "https://htmlpreview.github.io/?" + rawUrl;
                    
                    document.getElementById('hasil').classList.remove('hidden');
                    document.getElementById('linkHasil').innerText = finalLink;
                    document.getElementById('linkHasil').href = finalLink;
                    
                    alert("MANTAP PAK BOSS! WEB BERHASIL LIVE.");
                } else {
                    // Jika token salah atau kadaluarsa (Bad Credentials)
                    alert("Gagal: " + data.message + ". Coba buat Token Baru di GitHub.");
                }
            } catch (e) {
                alert("Koneksi Error: " + e.message);
            } finally {
                btn.innerText = "PUBLISH KE RLOY";
                btn.disabled = false;
            }
        }

        function salinLink() {
            const link = document.getElementById('linkHasil').innerText;
            navigator.clipboard.writeText(link);
            alert("Link berhasil disalin!");
        }
    </script>
</body>
</html>
